(self.webpackChunkkddh=self.webpackChunkkddh||[]).push([[419],{6419:(t,e,i)=>{"use strict";i.r(e),i.d(e,{EnglishModule:()=>I});var n=i(6946),s=i(5366);let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.m]]}),t})();var r=i(3337);const o=JSON.parse('[{"id":"e01","name":"A4A-M01-SenScr","title":"A4A-M01-\u8fde\u8bcd\u6210\u53e5"},{"id":"e02","name":"A4A-M02-SenScr","title":"A4A-M02-\u8fde\u8bcd\u6210\u53e5"}]');let a=(()=>{class t{constructor(){}getList(t){let e=[];switch(t){case"english":e=o}return e}getQuiz(t){const e={e01:[{id:"e01-01",type:"SenScr",content:"What is your name?"}],e02:[{id:"e02-01",type:"SenScr",content:"Sam is watching TV."}]};if(Object.keys(e).indexOf(t)>-1)return e[t];throw"quiz not found"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i(8512),l=i(2797),p=i(5078),d=i(1116);function m(t,e){if(1&t&&(s.TgZ(0,"mat-list-option",3),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}let q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-quiz-list"]],inputs:{quizStatus:"quizStatus"},decls:5,vars:7,consts:[[3,"multiple","disabled","selectionChange"],["quizes",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-selection-list",0,1),s.NdJ("selectionChange",function(){s.CHM(t);const i=s.MAs(1);return e.quizStatus.quizSelected$.next(null==i.selectedOptions.selected[0]?null:i.selectedOptions.selected[0].value)}),s.ALo(2,"async"),s.YNc(3,m,2,2,"mat-list-option",2),s.ALo(4,"async"),s.qZA()}2&t&&(s.Q6J("multiple",!1)("disabled",s.lcZ(2,3,e.quizStatus.isStarted$)),s.xp6(3),s.Q6J("ngForOf",s.lcZ(4,5,e.quizStatus.quizList$)))},directives:[p.Ub,d.sg,p.vS],pipes:[d.Ov],styles:[""]}),t})();var f=i(4369),z=i(9244);function g(t,e){if(1&t&&(s.TgZ(0,"div",5),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("cdkDragData",t),s.xp6(1),s.Oqu(t)}}function x(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",1),s.TgZ(1,"div",4),s.NdJ("cdkDropListDropped",function(e){return s.CHM(t),s.oxw().drop(e)}),s.YNc(2,g,2,2,"div",3),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(1),s.Q6J("cdkDropListData",t.blocks),s.xp6(1),s.Q6J("ngForOf",t.blocks)}}function S(t,e){if(1&t&&(s.TgZ(0,"div",5),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("cdkDragData",t),s.xp6(1),s.Oqu(t)}}let h=(()=>{class t{constructor(){this.answerBlocks=[]}ngOnInit(){console.log(this.quizItem),this.blocks=this.prepareBlocks(this.quizItem.content)}prepareBlocks(t){return t.split(/(?=\.|\?|,)| /).sort(function(t,e){return.5-Math.random()})}drop(t){t.previousContainer===t.container?(0,z.bA)(t.container.data,t.previousIndex,t.currentIndex):(0,z.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-quiz-item-senscr"]],inputs:{quizItem:"quizItem"},decls:8,vars:3,consts:[["class","example-list",4,"ngIf"],[1,"example-list"],["id","answer","cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","all",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["id","all","cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","answer",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",1,"example-box",3,"cdkDragData"]],template:function(t,e){1&t&&(s.TgZ(0,"h2"),s._uU(1,"Available blocks"),s.qZA(),s.YNc(2,x,3,2,"div",0),s.TgZ(3,"h2"),s._uU(4,"Answer blocks"),s.qZA(),s.TgZ(5,"div",1),s.TgZ(6,"div",2),s.NdJ("cdkDropListDropped",function(t){return e.drop(t)}),s.YNc(7,S,2,2,"div",3),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf",e.blocks),s.xp6(4),s.Q6J("cdkDropListData",e.answerBlocks),s.xp6(1),s.Q6J("ngForOf",e.answerBlocks))},directives:[d.O5,z.Wj,d.sg,z.Zt],styles:[".example-list[_ngcontent-%COMP%]{width:1000px;max-width:100%;border:1px solid #ccc;min-height:60px;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%], .example-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;background:#fff}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-right:1px solid #ccc;color:#000000de;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px;flex-grow:1;flex-basis:0}"]}),t})();function k(t,e){if(1&t&&s._UZ(0,"app-quiz-item-senscr",1),2&t){const t=s.oxw();s.Q6J("quizItem",t.quizItem)}}let Z=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-quiz-item"]],inputs:{quizItem:"quizItem"},decls:1,vars:1,consts:[[3,"quizItem",4,"ngIf"],[3,"quizItem"]],template:function(t,e){1&t&&s.YNc(0,k,1,1,"app-quiz-item-senscr",0),2&t&&s.Q6J("ngIf","SenScr"===e.quizItem.type)},directives:[d.O5,h],styles:[""]}),t})();function v(t,e){if(1&t&&(s._UZ(0,"app-quiz-item",6),s.ALo(1,"async")),2&t){const t=s.oxw();s.Q6J("quizItem",s.lcZ(1,1,t.quizStatus.currentItem$))}}let A=(()=>{class t{constructor(t){this.data=t,this.quizStatus={quizList$:new u.X([]),quizSelected$:new u.X(null),isStarted$:new u.X(!1),quizItems$:new u.X([]),currentItemId$:new u.X(0),currentItem$:new u.X("")}}ngOnInit(){this.quizStatus.quizList$.next(this.quizList),this.quizStatus.isStarted$.subscribe(t=>{t&&this.startQuiz(this.quizStatus.quizSelected$.getValue())})}startQuiz(t){const e=this.data.getQuiz(t);this.quizStatus.quizItems$.next(e),this.quizStatus.currentItem$.next(e[0])}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-quiz"]],inputs:{quizList:"quizList"},decls:14,vars:12,consts:[[3,"quizStatus"],[2,"display","flex"],["mat-raised-button","","color","primary",3,"disabled","click"],[2,"flex","1 1 auto"],["mat-raised-button","","color","accent",3,"disabled","click"],[3,"quizItem",4,"ngIf"],[3,"quizItem"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-card"),s._UZ(1,"app-quiz-list",0),s.TgZ(2,"mat-card",1),s.TgZ(3,"button",2),s.NdJ("click",function(){return e.quizStatus.isStarted$.next(!0)}),s.ALo(4,"async"),s.ALo(5,"async"),s._uU(6,"\u5f00\u59cb"),s.qZA(),s._UZ(7,"span",3),s.TgZ(8,"button",4),s.NdJ("click",function(){return e.quizStatus.isStarted$.next(!1)}),s.ALo(9,"async"),s._uU(10,"\u7ed3\u675f"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"mat-card"),s.YNc(12,v,2,3,"app-quiz-item",5),s.ALo(13,"async"),s.qZA()),2&t&&(s.xp6(1),s.Q6J("quizStatus",e.quizStatus),s.xp6(2),s.Q6J("disabled",s.lcZ(4,4,e.quizStatus.isStarted$)||!s.lcZ(5,6,e.quizStatus.quizSelected$)),s.xp6(5),s.Q6J("disabled",!s.lcZ(9,8,e.quizStatus.isStarted$)),s.xp6(4),s.Q6J("ngIf",s.lcZ(13,10,e.quizStatus.isStarted$)))},directives:[l.a8,q,f.lW,d.O5,Z],pipes:[d.Ov],styles:[""]}),t})();const b=[{path:"",component:(()=>{class t{constructor(t){this.data=t,this.quizList=this.data.getList("english")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-english"]],decls:3,vars:1,consts:[[3,"quizList"]],template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"english works!"),s.qZA(),s._UZ(2,"app-quiz",0)),2&t&&(s.xp6(2),s.Q6J("quizList",e.quizList))},directives:[A],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[w,n.m,c]]}),t})()}}]);